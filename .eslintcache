[{"/Users/ming/code-work/ccc-react-paint/src/index.tsx":"1","/Users/ming/code-work/ccc-react-paint/src/CCCPaint.tsx":"2","/Users/ming/code-work/ccc-react-paint/src/util/toolType.ts":"3","/Users/ming/code-work/ccc-react-paint/src/util/dispatcher/index.ts":"4","/Users/ming/code-work/ccc-react-paint/src/context/index.ts":"5","/Users/ming/code-work/ccc-react-paint/src/util/tool/shape.ts":"6","/Users/ming/code-work/ccc-react-paint/src/util/dispatcher/event.ts":"7","/Users/ming/code-work/ccc-react-paint/src/util/tool/tool.ts":"8","/Users/ming/code-work/ccc-react-paint/src/util/tool/index.ts":"9","/Users/ming/code-work/ccc-react-paint/src/util/snapshot/index.ts":"10","/Users/ming/code-work/ccc-react-paint/src/util/tool/pen.ts":"11","/Users/ming/code-work/ccc-react-paint/src/util/tool/colorExtract.ts":"12","/Users/ming/code-work/ccc-react-paint/src/util/tool/eraser.ts":"13","/Users/ming/code-work/ccc-react-paint/src/util/tool/Text.ts":"14","/Users/ming/code-work/ccc-react-paint/src/util/tool/colorFill.ts":"15","/Users/ming/code-work/ccc-react-paint/src/utils.tsx":"16","/Users/ming/code-work/ccc-react-paint/src/right/index.tsx":"17","/Users/ming/code-work/ccc-react-paint/src/left-tool/index.tsx":"18","/Users/ming/code-work/ccc-react-paint/src/canvas/index.tsx":"19","/Users/ming/code-work/ccc-react-paint/src/edit/index.tsx":"20","/Users/ming/code-work/ccc-react-paint/src/left-tool/util.tsx":"21","/Users/ming/code-work/ccc-react-paint/src/edit/Resize.tsx":"22","/Users/ming/code-work/ccc-react-paint/src/right/showShape/index.tsx":"23","/Users/ming/code-work/ccc-react-paint/src/right/pen/index.tsx":"24","/Users/ming/code-work/ccc-react-paint/src/right/text/index.tsx":"25","/Users/ming/code-work/ccc-react-paint/src/right/formatColor/index.tsx":"26","/Users/ming/code-work/ccc-react-paint/src/right/components/colorPanel/index.tsx":"27","/Users/ming/code-work/ccc-react-paint/src/right/components/shape/index.tsx":"28","/Users/ming/code-work/ccc-react-paint/src/right/components/slider/index.tsx":"29"},{"size":161,"mtime":1655202573949,"results":"30","hashOfConfig":"31"},{"size":5926,"mtime":1655214657212,"results":"32","hashOfConfig":"31"},{"size":918,"mtime":1655099997921,"results":"33","hashOfConfig":"31"},{"size":2010,"mtime":1654835133986,"results":"34","hashOfConfig":"31"},{"size":1418,"mtime":1655092109302,"results":"35","hashOfConfig":"31"},{"size":8172,"mtime":1654835133987,"results":"36","hashOfConfig":"31"},{"size":136,"mtime":1655092109303,"results":"37","hashOfConfig":"31"},{"size":3074,"mtime":1655190399460,"results":"38","hashOfConfig":"31"},{"size":247,"mtime":1654835133987,"results":"39","hashOfConfig":"31"},{"size":984,"mtime":1655217208011,"results":"40","hashOfConfig":"31"},{"size":2811,"mtime":1655127968288,"results":"41","hashOfConfig":"31"},{"size":1008,"mtime":1654835133987,"results":"42","hashOfConfig":"31"},{"size":2869,"mtime":1655128404570,"results":"43","hashOfConfig":"31"},{"size":3518,"mtime":1655130218456,"results":"44","hashOfConfig":"31"},{"size":3621,"mtime":1655092109303,"results":"45","hashOfConfig":"31"},{"size":1030,"mtime":1655214609621,"results":"46","hashOfConfig":"31"},{"size":1123,"mtime":1655202794903,"results":"47","hashOfConfig":"31"},{"size":2683,"mtime":1655202794901,"results":"48","hashOfConfig":"31"},{"size":10148,"mtime":1655217255086,"results":"49","hashOfConfig":"31"},{"size":1617,"mtime":1655202794900,"results":"50","hashOfConfig":"31"},{"size":8889,"mtime":1655202794901,"results":"51","hashOfConfig":"31"},{"size":2272,"mtime":1655202794900,"results":"52","hashOfConfig":"31"},{"size":511,"mtime":1655202794904,"results":"53","hashOfConfig":"31"},{"size":731,"mtime":1655202794904,"results":"54","hashOfConfig":"31"},{"size":3327,"mtime":1655202794904,"results":"55","hashOfConfig":"31"},{"size":1126,"mtime":1655202794903,"results":"56","hashOfConfig":"31"},{"size":1713,"mtime":1655202794902,"results":"57","hashOfConfig":"31"},{"size":3639,"mtime":1655202794902,"results":"58","hashOfConfig":"31"},{"size":887,"mtime":1655202794903,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1tiwiaa",{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"62"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"62"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ming/code-work/ccc-react-paint/src/index.tsx",[],[],"/Users/ming/code-work/ccc-react-paint/src/CCCPaint.tsx",["121","122"],"/Users/ming/code-work/ccc-react-paint/src/util/toolType.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/dispatcher/index.ts",[],"/Users/ming/code-work/ccc-react-paint/src/context/index.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/shape.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/dispatcher/event.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/tool.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/index.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/snapshot/index.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/pen.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/colorExtract.ts",[],"/Users/ming/code-work/ccc-react-paint/src/util/tool/eraser.ts",["123"],"import { ColorType } from \"../toolType\";\nimport Tool, { Point, getMousePos, getPixelColorOnCanvas, getTouchPos, hexToRgb, updateImageData } from \"./tool\";\nclass Eraser extends Tool {\n  protected lineWidthBase = 1;\n  private mouseDown = false;\n  private color = \"\";\n  private saveImageData?: ImageData;\n  private previousPos: Point = {\n    x: 0,\n    y: 0\n  };\n  public constructor(lineSize = 1) {\n    super();\n    this.lineWidthBase = lineSize;\n    this.color = \"\";\n  }\n  private operateStart(pos: Point) {\n    if (!Tool.ctx) return;\n    this.saveImageData = Tool.ctx.getImageData(0, 0, Tool.ctx.canvas.width, Tool.ctx.canvas.height);\n    this.mouseDown = true;\n    this.color = getPixelColorOnCanvas(Tool.ctx, pos.x - this.lineWidthBase, pos.y - this.lineWidthBase);\n    Tool.ctx.lineWidth = 3 * this.lineWidthBase;\n    Tool.ctx.strokeStyle = this.color;\n    Tool.ctx.lineJoin = \"round\";\n    Tool.ctx.lineCap = \"round\";\n    Tool.ctx.beginPath();\n    this.previousPos = pos;\n  }\n  private operateMove(pos: Point) {\n    if (this.mouseDown) {\n      Tool.ctx.moveTo(this.previousPos.x, this.previousPos.y);\n      const c = 0.5 * (this.previousPos.x + pos.x);\n      const d = 0.5 * (this.previousPos.y + pos.y);\n      Tool.ctx.quadraticCurveTo(c, d, pos.x, pos.y);\n      Tool.ctx.stroke();\n      this.previousPos = pos;\n    }\n  }\n  private operateEnd() {\n    if (this.mouseDown) {\n      Tool.ctx.closePath();\n      this.mouseDown = false;\n      let imageData = Tool.ctx.getImageData(0, 0, Tool.ctx.canvas.width, Tool.ctx.canvas.height);\n      const colorRgb = hexToRgb(this.color);\n      if (colorRgb && this.saveImageData) {\n        imageData = updateImageData(this.saveImageData, imageData, [colorRgb.r, colorRgb.g, colorRgb.b, colorRgb.a]);\n\n        Tool.ctx.putImageData(imageData, 0, 0);\n      }\n    }\n  }\n  public onMouseDown(event: MouseEvent): void {\n    event.preventDefault();\n\n    const mousePos = getMousePos(Tool.ctx.canvas, event);\n\n    this.operateStart(mousePos);\n  }\n\n  public onMouseUp(event: MouseEvent): void {\n    event.preventDefault();\n    this.operateEnd();\n  }\n\n  public onMouseMove(event: MouseEvent): void {\n    event.preventDefault();\n    const mousePos = getMousePos(Tool.ctx.canvas, event);\n    this.operateMove(mousePos);\n  }\n\n  public onTouchStart(event: TouchEvent): void {\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    const touchPos = getTouchPos(event.target as HTMLCanvasElement, event);\n    this.operateStart(touchPos);\n  }\n\n  public onTouchMove(event: TouchEvent): void {\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    const touchPos = getTouchPos(event.target as HTMLCanvasElement, event);\n    this.operateMove(touchPos);\n  }\n\n  public onTouchEnd(event: TouchEvent): void {\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    this.operateEnd();\n  }\n}\n\nexport default Eraser;\n","/Users/ming/code-work/ccc-react-paint/src/util/tool/Text.ts",["124","125"],"import Tool from \"./tool\";\n\n// interface propsInput = {\n//             x?: number,\n//             y?: Number,\n//             maxWidth?:Number\n// }\n\nclass Text extends Tool {\n  private isMouseDown = false;\n  private saveImageData?: ImageData;\n  private _x: number;\n  private _y: number;\n  private textContent: string;\n  private textBox: any;\n  private fontStyle: any;\n  private canvas: any;\n  private canvasText: any;\n  public constructor(fontType: any) {\n    super();\n    this._x = NaN;\n    this._y = NaN;\n    this.textBox = document.getElementById(\"textBox\");\n    this.canvasText = document.getElementById(\"canvas-text\");\n\n    this.textContent = \"\";\n    this.fontStyle = fontType;\n  }\n\n  private drawing(x: number, y: number) {\n    const context = Tool.ctx;\n    if (!context) {\n      return;\n    } else {\n      // 设置画笔的颜色和大小\n      context.fillStyle = \"#000\"; // 填充颜色为红色\n      context.lineWidth = 5; // 指定描边线的宽度\n      context.font = \"10px\";\n      if (context && this.fontStyle) {\n        const { fontSize = \"12px\", fontFamily, letterSpacing } = this.fontStyle;\n        context.fillStyle = this.textBox.color || \"#000\";\n        context.font = `${fontSize} ${fontFamily}`;\n        if (context.canvas && letterSpacing) {\n          context.canvas.style.letterSpacing = letterSpacing;\n        }\n      }\n\n      // 写字\n      //   const width = this.canvas.offsetWidth;\n      //   console.log(\"----546\", this.canvas);\n      //   const height = this.canvas.offsetHeight;\n      //   const tempImg = new Image();\n      //   tempImg.width = width;\n      //   tempImg.height = height;\n      //   tempImg.onload = function () {\n      //     // 把img绘制在canvas画布上\n      //     context.drawImage(tempImg, 0, 0, width, height);\n      //   };\n      //   (tempImg.src =\n      //     'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\"><foreignObject width=\"' +\n      //     width +\n      //     '\" height=\"' +\n      //     height +\n      //     '\"><body xmlns=\"http://www.w3.org/1999/xhtml\" style=\"margin:0;font:' +\n      //     context.font +\n      //     ';\">' +\n      //     this.textContent),\n      //     +\"</body></foreignObject></svg>\";\n      context.fillText(this.textContent, parseInt(this.textBox.style.left), parseInt(this.textBox.style.top));\n      // this.wrapText(this.textContent, parseInt(this.textBox.style.left), parseInt(this.textBox.style.top));\n    }\n  }\n\n  public onMouseDown(event: MouseEvent): void {\n    // 鼠标按下位置保存\n\n    event.preventDefault();\n    if (this.isMouseDown) {\n      this.textContent = this.textBox.value;\n      this.isMouseDown = false;\n      this.textBox.style[\"z-index\"] = -1;\n      this.canvasText.style[\"z-index\"] = -1;\n      this.textBox.style.visibility = \"hidden\";\n      this.drawing(this._x, this._y);\n      this.textBox.value = \"\";\n    } else if (!this.isMouseDown) {\n      this._x = event.offsetX; // 鼠标按下时保存当前位置，为起始位置\n      this._y = event.offsetY;\n      this.isMouseDown = true;\n      this.textBox.value = \"\";\n      if (typeof this.fontStyle === \"object\") {\n        Object.keys(this.fontStyle).forEach((va) => {\n          this.textBox.style[va] = this.fontStyle[va];\n        });\n      }\n      this.canvasText.style[\"z-index\"] = 5;\n      this.textBox.style[\"z-index\"] = 6;\n      this.textBox.style.visibility = \"visible\";\n      this.textBox.style.left = this._x + \"px\";\n      this.textBox.style.top = this._y + \"px\";\n    }\n  }\n}\n\nexport default Text;\n","/Users/ming/code-work/ccc-react-paint/src/util/tool/colorFill.ts",[],"/Users/ming/code-work/ccc-react-paint/src/utils.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/left-tool/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/canvas/index.tsx",["126","127"],"/Users/ming/code-work/ccc-react-paint/src/edit/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/left-tool/util.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/edit/Resize.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/showShape/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/pen/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/text/index.tsx",["128"],"/Users/ming/code-work/ccc-react-paint/src/right/formatColor/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/components/colorPanel/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/components/shape/index.tsx",[],"/Users/ming/code-work/ccc-react-paint/src/right/components/slider/index.tsx",[],{"ruleId":"129","severity":1,"message":"130","line":1,"column":17,"nodeType":"131","messageId":"132","endLine":1,"endColumn":20},{"ruleId":"129","severity":1,"message":"133","line":40,"column":5,"nodeType":"131","messageId":"132","endLine":40,"endColumn":12},{"ruleId":"129","severity":1,"message":"134","line":1,"column":10,"nodeType":"131","messageId":"132","endLine":1,"endColumn":19},{"ruleId":"129","severity":1,"message":"135","line":30,"column":19,"nodeType":"131","messageId":"132","endLine":30,"endColumn":28},{"ruleId":"129","severity":1,"message":"136","line":30,"column":30,"nodeType":"131","messageId":"132","endLine":30,"endColumn":39},{"ruleId":"129","severity":1,"message":"137","line":1,"column":17,"nodeType":"131","messageId":"132","endLine":1,"endColumn":24},{"ruleId":"129","severity":1,"message":"138","line":55,"column":5,"nodeType":"131","messageId":"132","endLine":55,"endColumn":11},{"ruleId":"129","severity":1,"message":"139","line":40,"column":9,"nodeType":"131","messageId":"132","endLine":40,"endColumn":24},"@typescript-eslint/no-unused-vars","'Ref' is defined but never used.","Identifier","unusedVar","'onClick' is assigned a value but never used.","'ColorType' is defined but never used.","'x' is defined but never used.","'y' is defined but never used.","'useMemo' is defined but never used.","'onSize' is assigned a value but never used.","'activeColorType' is assigned a value but never used."]